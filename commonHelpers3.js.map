{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst submitBtn = document.querySelector('button');\nconst form = document.querySelector('.form');\nsubmitBtn.addEventListener('click', handlerSubmitBtnClick);\n\nfunction handlerSubmitBtnClick(evt) {\n  evt.preventDefault();\n  const promisesQuantity = form.elements.amount.value;\n  const promiseDelay = +form.elements.delay.value;\n  const promiseStep = +form.elements.step.value;\n\n  let promises = [];\n\n  for (let i = 1; i <= promisesQuantity; i++){\n    if (i === 1) {\n      promises.push(createPromise(i, promiseDelay));\n    } else {\n      promises.push(createPromise(i, promiseDelay + promiseStep * (i-1)));\n    }\n  }\n\n  Promise.allSettled(promises).then((items) => { \n    items.forEach((item, idx) => { \n      const delay = item.value ? item.value.delay : item.reason.delay;\n      setTimeout(() => {\n        if (item.value) {\n          iziToast.success({\n            title: 'Success',\n            message: `Fulfilled promise ${idx+1} in ${delay}ms`,\n            position: 'topRight'\n          });\n          console.log(`✅ Fulfilled promise ${idx+1} in ${delay}ms`);\n\n        } else {\n          iziToast.error({\n            title: 'Error',\n            message: `Rejected promise ${idx+1} in ${delay}ms`,\n            position: 'topRight'\n          });\n          console.log(`❌ Rejected promise ${idx+1} in ${delay}ms`);\n        }\n       }, delay);\n    })\n  })\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((response, reject) => {\n    if (shouldResolve) {\n      response({ position, delay });\n    } else {\n      reject({ position, delay });\n    }\n  })\n}\n"],"names":["submitBtn","form","handlerSubmitBtnClick","evt","promisesQuantity","promiseDelay","promiseStep","promises","i","createPromise","items","item","idx","delay","iziToast","position","shouldResolve","response","reject"],"mappings":"wIAGA,MAAMA,EAAY,SAAS,cAAc,QAAQ,EAC3CC,EAAO,SAAS,cAAc,OAAO,EAC3CD,EAAU,iBAAiB,QAASE,CAAqB,EAEzD,SAASA,EAAsBC,EAAK,CAClCA,EAAI,eAAc,EAClB,MAAMC,EAAmBH,EAAK,SAAS,OAAO,MACxCI,EAAe,CAACJ,EAAK,SAAS,MAAM,MACpCK,EAAc,CAACL,EAAK,SAAS,KAAK,MAExC,IAAIM,EAAW,CAAA,EAEf,QAASC,EAAI,EAAGA,GAAKJ,EAAkBI,IACjCA,IAAM,EACRD,EAAS,KAAKE,EAAcD,EAAGH,CAAY,CAAC,EAE5CE,EAAS,KAAKE,EAAcD,EAAGH,EAAeC,GAAeE,EAAE,EAAE,CAAC,EAItE,QAAQ,WAAWD,CAAQ,EAAE,KAAMG,GAAU,CAC3CA,EAAM,QAAQ,CAACC,EAAMC,IAAQ,CAC3B,MAAMC,EAAQF,EAAK,MAAQA,EAAK,MAAM,MAAQA,EAAK,OAAO,MAC1D,WAAW,IAAM,CACXA,EAAK,OACPG,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,qBAAqBF,EAAI,QAAQC,MAC1C,SAAU,UACtB,CAAW,EACD,QAAQ,IAAI,uBAAuBD,EAAI,QAAQC,KAAS,IAGxDC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,oBAAoBF,EAAI,QAAQC,MACzC,SAAU,UACtB,CAAW,EACD,QAAQ,IAAI,sBAAsBD,EAAI,QAAQC,KAAS,EAEzD,EAAEA,CAAK,CACf,CAAK,CACL,CAAG,CACH,CAEA,SAASJ,EAAcM,EAAUF,EAAO,CACtC,MAAMG,EAAgB,KAAK,OAAM,EAAK,GACtC,OAAO,IAAI,QAAQ,CAACC,EAAUC,IAAW,CACnCF,EACFC,EAAS,CAAE,SAAAF,EAAU,MAAAF,CAAK,CAAE,EAE5BK,EAAO,CAAE,SAAAH,EAAU,MAAAF,CAAK,CAAE,CAEhC,CAAG,CACH"}