{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst submitBtn = document.querySelector('button');\nconst form = document.querySelector('.form');\nsubmitBtn.addEventListener('click', handlerSubmitBtnClick);\n\nfunction handlerSubmitBtnClick(evt) {\n  evt.preventDefault();\n  const promisesQuantity = form.elements.amount.value;\n  let promiseDelay = +form.elements.delay.value;\n  const promiseStep = +form.elements.step.value;\n\n  for (let i = 1; i <= promisesQuantity; i++){\n    createPromise(i, promiseDelay).then((value) => {\n      iziToast.success({\n        title: 'Success',\n        message: `Fulfilled promise ${value.position} in ${value.delay}ms`,\n        position: 'topRight'\n      });\n    }).catch((err) => {\n        iziToast.error({\n          title: 'Error',\n          message: `Rejected promise ${err.position} in ${err.delay}ms`,\n          position: 'topRight'\n        });\n    })    \n    promiseDelay += promiseStep;\n  }\n form.reset();\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay)\n  })\n}\n"],"names":["submitBtn","form","handlerSubmitBtnClick","evt","promisesQuantity","promiseDelay","promiseStep","i","createPromise","value","iziToast","err","position","delay","shouldResolve","resolve","reject"],"mappings":"wIAGA,MAAMA,EAAY,SAAS,cAAc,QAAQ,EAC3CC,EAAO,SAAS,cAAc,OAAO,EAC3CD,EAAU,iBAAiB,QAASE,CAAqB,EAEzD,SAASA,EAAsBC,EAAK,CAClCA,EAAI,eAAc,EAClB,MAAMC,EAAmBH,EAAK,SAAS,OAAO,MAC9C,IAAII,EAAe,CAACJ,EAAK,SAAS,MAAM,MACxC,MAAMK,EAAc,CAACL,EAAK,SAAS,KAAK,MAExC,QAASM,EAAI,EAAGA,GAAKH,EAAkBG,IACrCC,EAAcD,EAAGF,CAAY,EAAE,KAAMI,GAAU,CAC7CC,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,qBAAqBD,EAAM,eAAeA,EAAM,UACzD,SAAU,UAClB,CAAO,CACP,CAAK,EAAE,MAAOE,GAAQ,CACdD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,oBAAoBC,EAAI,eAAeA,EAAI,UACpD,SAAU,UACpB,CAAS,CACT,CAAK,EACDN,GAAgBC,EAEnBL,EAAK,MAAK,CACX,CAEA,SAASO,EAAcI,EAAUC,EAAO,CACtC,MAAMC,EAAgB,KAAK,OAAM,EAAK,GACtC,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtC,WAAW,IAAM,CACXF,EACFC,EAAQ,CAAE,SAAAH,EAAU,MAAAC,CAAK,CAAE,EAE3BG,EAAO,CAAE,SAAAJ,EAAU,MAAAC,CAAK,CAAE,CAE7B,EAAEA,CAAK,CACZ,CAAG,CACH"}